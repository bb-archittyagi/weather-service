= Weather Service (Vert.x)
:toc:
:toclevels: 2

A reactive backend *Weather Service* built using *Java* and *Vert.x*, designed to fetch real-time weather data from an external API, process it asynchronously, and persist it in a *MySQL* database.

The project follows a *clean, layered architecture* with proper *Dependency Injection using Dagger*, making it modular, testable, and scalable â€” suitable for real-world backend and microservice use cases.

== âœ¨ Key Features
* Fully non-blocking, reactive architecture using Vert.x
* RESTful APIs for fetching, searching, and updating weather data
* Integration with external weather API (OpenWeather)
* Asynchronous persistence using Vert.x MySQL client
* Clean separation of concerns:
** Controller
** Handler
** Service
** DAO
** Configuration
* Dependency Injection using *Dagger 2*
* Gradle-based build and run setup
* Simple static frontend (HTML/CSS/JS)

== ğŸ›  Tech Stack
* Java 11
* Vert.x 4.x
* Dagger 2 (Dependency Injection)
* MySQL
* Gradle
* HTML, CSS, JavaScript

== ğŸ“ Project Structure
[source]
----
src/main/java/com/bb/weather/weather_service
â”œâ”€â”€ MainVerticle.java          # Application entry point
â”œâ”€â”€ config
â”‚   â””â”€â”€ DbConfig.java          # MySQL configuration
â”œâ”€â”€ controller
â”‚   â””â”€â”€ http
â”‚       â””â”€â”€ WeatherController.java
â”œâ”€â”€ handler
â”‚   â””â”€â”€ WeatherHandler.java    # HTTP request handling
â”œâ”€â”€ service
â”‚   â”œâ”€â”€ WeatherService.java
â”‚   â””â”€â”€ WeatherServiceImpl.java
â”œâ”€â”€ dao
â”‚   â”œâ”€â”€ WeatherDao.java
â”‚   â””â”€â”€ WeatherDaoImpl.java
â”œâ”€â”€ di
â”‚   â”œâ”€â”€ AppComponent.java      # Dagger component
â”‚   â”œâ”€â”€ AppModule.java         # Infrastructure providers
â”‚   â””â”€â”€ ServiceModule.java     # Interface bindings
â””â”€â”€ model
    â””â”€â”€ Weather.java
----

== ğŸ”„ Request Flow (High-Level)

1. HTTP request hits *WeatherController*
2. Controller delegates to *WeatherHandler*
3. Handler invokes *WeatherService*
4. Service:
* Calls external Weather API (async)
* Decides whether to insert or update DB
5. DAO interacts with MySQL asynchronously
6. JSON response returned to client

All dependencies are injected using *Dagger*, no manual object creation.

== ğŸš€ Running the Application

=== Prerequisites
* Java 11+
* MySQL running locally
* Database schema created
* Gradle wrapper included

=== Build & Run
[source,bash]
----
./gradlew clean run
----

The server starts on:
----
http://localhost:8070
----

== ğŸ§ª API Endpoints (Examples)

* `GET /api/weather?city=London`
* `GET /api/weather/geo?lat=28.61&lon=77.20`
* `GET /api/weather/search?city=Delhi`
* `PUT /api/weather`

== ğŸ§  Dependency Injection (Dagger)

The project uses *constructor-based dependency injection* with Dagger:

* `@Inject` used on constructors
* `@Module` for providing external dependencies (Vertx, WebClient, MySQLPool)
* `@Binds` for interface-to-implementation mapping
* Centralized object graph via `AppComponent`

This removes tight coupling and improves testability.

== ğŸ“Œ Learning Outcomes
* Practical understanding of reactive programming
* Non-blocking I/O with Vert.x Web and SQL clients
* Clean architecture design in backend services
* Dependency Injection using Dagger
* Real-world async request handling patterns
* Gradle-based project structuring

== ğŸ”® Future Enhancements
* API authentication & authorization
* Redis caching for frequent queries
* Docker & Docker Compose setup
* Cloud deployment (AWS / GCP)
* Unit and integration testing with mocks

== ğŸ“š References
* https://vertx.io/docs/
* https://dagger.dev/
* https://start.vertx.io/
* https://openweathermap.org/api

---
Developed by *Archit Tyagi*
